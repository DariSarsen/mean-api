{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction FileUploadComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2, \"\\u041F\\u0440\\u0438\\u043C\\u0435\\u0440 \\u0432\\u044B\\u0432\\u043E\\u0434\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Dataset: \", ctx_r0.analysisData.dataset, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\u041C\\u0435\\u0442\\u043A\\u0438: \", ctx_r0.analysisData.labels, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\u0417\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u044F: \", ctx_r0.analysisData.values, \"\");\n  }\n}\nexport class FileUploadComponent {\n  constructor(http) {\n    this.http = http;\n    this.analysisData = {};\n  }\n  onFileSelected(event) {\n    this.selectedFile = event.target.files[0];\n  }\n  onFileUpload() {\n    if (this.selectedFile) {\n      const formData = new FormData();\n      formData.append('file', this.selectedFile);\n      this.http.post('http://localhost:3000/upload', formData).subscribe({\n        next: response => {\n          console.log('Ответ сервера:', response);\n          this.displayAnalysis(response); // Отображение анализа\n        },\n\n        error: error => {\n          console.error('Ошибка загрузки файла', error);\n        }\n      });\n    }\n  }\n  displayAnalysis(analysisData) {\n    this.analysisData = analysisData; // Присваиваем данные для использования в шаблоне\n    // Здесь можно использовать данные для визуализации, например, с помощью библиотеки Chart.js\n    // Например, если есть данные для графика, можно построить его здесь\n  }\n}\n_class = FileUploadComponent;\n_class.ɵfac = function FileUploadComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-file-upload\"]],\n  decls: 5,\n  vars: 1,\n  consts: [[\"enctype\", \"multipart/form-data\", 3, \"ngSubmit\"], [\"type\", \"file\", 3, \"change\"], [\"type\", \"submit\"], [4, \"ngIf\"]],\n  template: function FileUploadComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0);\n      i0.ɵɵlistener(\"ngSubmit\", function FileUploadComponent_Template_form_ngSubmit_0_listener() {\n        return ctx.onFileUpload();\n      });\n      i0.ɵɵelementStart(1, \"input\", 1);\n      i0.ɵɵlistener(\"change\", function FileUploadComponent_Template_input_change_1_listener($event) {\n        return ctx.onFileSelected($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"button\", 2);\n      i0.ɵɵtext(3, \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0444\\u0430\\u0439\\u043B\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(4, FileUploadComponent_div_4_Template, 9, 3, \"div\", 3);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.analysisData.labels);\n    }\n  },\n  dependencies: [i2.NgIf, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","analysisData","dataset","labels","values","FileUploadComponent","constructor","http","onFileSelected","event","selectedFile","target","files","onFileUpload","formData","FormData","append","post","subscribe","next","response","console","log","displayAnalysis","error","ɵɵdirectiveInject","i1","HttpClient","selectors","decls","vars","consts","template","FileUploadComponent_Template","rf","ctx","ɵɵlistener","FileUploadComponent_Template_form_ngSubmit_0_listener","FileUploadComponent_Template_input_change_1_listener","$event","ɵɵtemplate","FileUploadComponent_div_4_Template","ɵɵproperty"],"sources":["C:\\Users\\daris\\Documents\\mean-api\\front-end\\src\\app\\file-upload\\file-upload.component.ts","C:\\Users\\daris\\Documents\\mean-api\\front-end\\src\\app\\file-upload\\file-upload.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-file-upload',\n  templateUrl: './file-upload.component.html',\n  styleUrls: ['./file-upload.component.css']\n})\nexport class FileUploadComponent {\n  selectedFile: File | undefined;\n  analysisData: any = {};\n\n  constructor(private http: HttpClient) {}\n\n  onFileSelected(event: any) {\n    this.selectedFile = event.target.files[0];\n  }\n\n  onFileUpload() {\n    if (this.selectedFile) {\n      const formData = new FormData();\n      formData.append('file', this.selectedFile);\n\n      this.http.post<any>('http://localhost:3000/upload', formData).subscribe({\n        next: response => {\n          console.log('Ответ сервера:', response);\n          this.displayAnalysis(response); // Отображение анализа\n        },\n        error: error => {\n          console.error('Ошибка загрузки файла', error);\n        }\n      });\n    }\n  }\n\n  displayAnalysis(analysisData: any) {\n    this.analysisData = analysisData; // Присваиваем данные для использования в шаблоне\n    // Здесь можно использовать данные для визуализации, например, с помощью библиотеки Chart.js\n    // Например, если есть данные для графика, можно построить его здесь\n  }\n}\n","<form (ngSubmit)=\"onFileUpload()\" enctype=\"multipart/form-data\">\n  <input type=\"file\" (change)=\"onFileSelected($event)\">\n  <button type=\"submit\">Загрузить файл</button>\n</form>\n\n\n<div *ngIf=\"analysisData.labels\">\n  <p>Пример вывода данных:</p>\n  <p>Dataset: {{ analysisData.dataset }}</p>\n  <p>Метки: {{ analysisData.labels }}</p>\n  <p>Значения: {{ analysisData.values }}</p>\n  <!-- Здесь можно добавить элементы для отображения графика -->\n</div>\n"],"mappings":";;;;;;;ICMAA,EAAA,CAAAC,cAAA,UAAiC;IAC5BD,EAAA,CAAAE,MAAA,sHAAqB;IAAAF,EAAA,CAAAG,YAAA,EAAI;IAC5BH,EAAA,CAAAC,cAAA,QAAG;IAAAD,EAAA,CAAAE,MAAA,GAAmC;IAAAF,EAAA,CAAAG,YAAA,EAAI;IAC1CH,EAAA,CAAAC,cAAA,QAAG;IAAAD,EAAA,CAAAE,MAAA,GAAgC;IAAAF,EAAA,CAAAG,YAAA,EAAI;IACvCH,EAAA,CAAAC,cAAA,QAAG;IAAAD,EAAA,CAAAE,MAAA,GAAmC;IAAAF,EAAA,CAAAG,YAAA,EAAI;;;;IAFvCH,EAAA,CAAAI,SAAA,GAAmC;IAAnCJ,EAAA,CAAAK,kBAAA,cAAAC,MAAA,CAAAC,YAAA,CAAAC,OAAA,KAAmC;IACnCR,EAAA,CAAAI,SAAA,GAAgC;IAAhCJ,EAAA,CAAAK,kBAAA,qCAAAC,MAAA,CAAAC,YAAA,CAAAE,MAAA,KAAgC;IAChCT,EAAA,CAAAI,SAAA,GAAmC;IAAnCJ,EAAA,CAAAK,kBAAA,uDAAAC,MAAA,CAAAC,YAAA,CAAAG,MAAA,KAAmC;;;ADFxC,OAAM,MAAOC,mBAAmB;EAI9BC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAFxB,KAAAN,YAAY,GAAQ,EAAE;EAEiB;EAEvCO,cAAcA,CAACC,KAAU;IACvB,IAAI,CAACC,YAAY,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;EAC3C;EAEAC,YAAYA,CAAA;IACV,IAAI,IAAI,CAACH,YAAY,EAAE;MACrB,MAAMI,QAAQ,GAAG,IAAIC,QAAQ,EAAE;MAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACN,YAAY,CAAC;MAE1C,IAAI,CAACH,IAAI,CAACU,IAAI,CAAM,8BAA8B,EAAEH,QAAQ,CAAC,CAACI,SAAS,CAAC;QACtEC,IAAI,EAAEC,QAAQ,IAAG;UACfC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEF,QAAQ,CAAC;UACvC,IAAI,CAACG,eAAe,CAACH,QAAQ,CAAC,CAAC,CAAC;QAClC,CAAC;;QACDI,KAAK,EAAEA,KAAK,IAAG;UACbH,OAAO,CAACG,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;QAC/C;OACD,CAAC;;EAEN;EAEAD,eAAeA,CAACtB,YAAiB;IAC/B,IAAI,CAACA,YAAY,GAAGA,YAAY,CAAC,CAAC;IAClC;IACA;EACF;;SA/BWI,mBAAmB;;mBAAnBA,MAAmB,EAAAX,EAAA,CAAA+B,iBAAA,CAAAC,EAAA,CAAAC,UAAA;AAAA;;QAAnBtB,MAAmB;EAAAuB,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,6BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCRhCxC,EAAA,CAAAC,cAAA,cAAgE;MAA1DD,EAAA,CAAA0C,UAAA,sBAAAC,sDAAA;QAAA,OAAYF,GAAA,CAAAtB,YAAA,EAAc;MAAA,EAAC;MAC/BnB,EAAA,CAAAC,cAAA,eAAqD;MAAlCD,EAAA,CAAA0C,UAAA,oBAAAE,qDAAAC,MAAA;QAAA,OAAUJ,GAAA,CAAA3B,cAAA,CAAA+B,MAAA,CAAsB;MAAA,EAAC;MAApD7C,EAAA,CAAAG,YAAA,EAAqD;MACrDH,EAAA,CAAAC,cAAA,gBAAsB;MAAAD,EAAA,CAAAE,MAAA,sFAAc;MAAAF,EAAA,CAAAG,YAAA,EAAS;MAI/CH,EAAA,CAAA8C,UAAA,IAAAC,kCAAA,iBAMM;;;MANA/C,EAAA,CAAAI,SAAA,GAAyB;MAAzBJ,EAAA,CAAAgD,UAAA,SAAAP,GAAA,CAAAlC,YAAA,CAAAE,MAAA,CAAyB"},"metadata":{},"sourceType":"module","externalDependencies":[]}